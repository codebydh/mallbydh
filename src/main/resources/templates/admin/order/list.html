<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{admin/layouts/ad_layout}">

<th:block layout:fragment="script">
</th:block>

<th:block layout:fragment="css">
    <style>
        .search-option {
            width: 100%;
        }

        .search-option th {
            width: 10%;
            background-color: #f5f5f5;
            text-align: center;
        }

        .search-option td {
            text-align: left;
            vertical-align: middle;
        }

        .search-option .d-flex {
            gap: 10px;
        }

        .fs-14 {
            font-size: 14px;
        }
    </style>
</th:block>

<th:block layout:fragment="content">
    <div>
        <h2 class="mb-4">주문 관리</h2>

        <div class="card">
            <div class="card-body">

                <div class="d-flex justify-content-center align-items-center">
                    <select class="form-control mr-2" name="searchType" style="width: 120px;">
                        <option selected>전체</option>
                        <option value="id">아이디</option>
                        <option value="name">성명</option>
                        <option value="email">이메일</option>
                        <option value="phone">휴대폰</option>
                    </select>
                    <input class="form-control mr-2" type="search" aria-label="Search" name="keyword" style="width: 300px;">
                    <button type="submit" class="btn btn-dark mr-2" style="width: 82px;">검색</button>
                    <button type="submit" class="btn btn-outline-info" style="width: 82px;" id="btnDetailSearchOpen">상세검색</button>
                </div>

                <div id="detailSearchForm" class="fs-14" style="display: none;">

                    <hr class="my-3">

                    <table class="table table-bordered search-option">
                        <tbody>
                        <tr>
                            <th class="align-middle">주문일</th>
                            <td colspan="5" class="align-middle">
                                <div class="d-flex align-items-center gap-2">
                                    <input type="date" class="form-control form-control-sm" style="width: 150px; flex: 0 0 150px;">
                                    <span>-</span>
                                    <input type="date" class="form-control form-control-sm" style="width: 150px; flex: 0 0 150px;">
                                    <div class="btn-group btn-group-sm" role="group" aria-label="Small button group">
                                        <button type="button" class="btn btn-outline-secondary" style="min-width: 50px; padding: 4px;">오늘</button>
                                        <button type="button" class="btn btn-outline-secondary" style="min-width: 50px; padding: 4px;">1주일</button>
                                        <button type="button" class="btn btn-outline-secondary" style="min-width: 50px; padding: 4px;">1개월</button>
                                        <button type="button" class="btn btn-outline-secondary" style="min-width: 58px; padding: 4px;">3개월</button>
                                        <button type="button" class="btn btn-outline-secondary" style="min-width: 58px; padding: 4px;">6개월</button>
                                        <button type="button" class="btn btn-outline-secondary" style="min-width: 58px; padding: 4px;">1년</button>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th class="align-middle">진행상태</th>
                            <td colspan="5" class="align-middle" style="padding-top: 16px; padding-bottom 16px;">
                                <div class="form-check form-check-inline mr-3 ml-1">
                                    <input class="form-check-input" type="radio" name="#" id="#" value="" checked>
                                    <label class="form-check-label" for="#">입금대기</label>
                                </div>
                                <div class="form-check form-check-inline mr-3">
                                    <input class="form-check-input" type="radio" name="#" id="#" value="#">
                                    <label class="form-check-label" for="#">결제완료</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="#" id="#" value="#">
                                    <label class="form-check-label" for="#">배송준비</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="#" id="#" value="#">
                                    <label class="form-check-label" for="#">배송중</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="#" id="#" value="#">
                                    <label class="form-check-label" for="#">배송완료</label>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th class="align-middle">결제수단</th>
                            <td colspan="5" class="align-middle" style="padding-top: 16px; padding-bottom 16px;">
                                <div class="form-check form-check-inline mr-3 ml-1">
                                    <input class="form-check-input" type="radio" name="#" id="#" value="" checked>
                                    <label class="form-check-label" for="#">카드결제</label>
                                </div>
                                <div class="form-check form-check-inline mr-3">
                                    <input class="form-check-input" type="radio" name="#" id="#" value="#">
                                    <label class="form-check-label" for="#">카카오페이</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="#" id="#" value="#">
                                    <label class="form-check-label" for="#">무통장입금</label>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th class="align-middle">받는분 이름</th>
                            <td class="align-middle">
                                <input type="text" class="form-control form-control-sm">
                            </td>
                            <th class="align-middle">받는분 주소</th>
                            <td class="align-middle">
                                <input type="text" class="form-control form-control-sm">
                            </td>
                            <th class="align-middle">받는분 휴대폰</th>
                            <td class="align-middle">
                                <input type="text" class="form-control form-control-sm">
                            </td>
                        </tr>
                        <tr>
                            <th class="align-middle">사용자 이름</th>
                            <td class="align-middle">
                                <input type="text" class="form-control form-control-sm">
                            </td>
                            <th class="align-middle">사용자 주소</th>
                            <td class="align-middle">
                                <input type="text" class="form-control form-control-sm">
                            </td>
                            <th class="align-middle">사용자 휴대폰</th>
                            <td class="align-middle">
                                <input type="text" class="form-control form-control-sm">
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <div class="text-center">
                        <button type="submit" class="btn btn-dark" style="width: 82px;">검색</button>
                    </div>
                </div>

                <!-- 페이징 및 검색 파라미터 정보
                <form id="criteriaForm" action="/admin/member/" method="get">
                    <input type="hidden" name="page" id="page" th:value="${pageMaker.cri.page}" />
                    <input type="hidden" name="perPageNum" id="perPageNum" th:value="${pageMaker.cri.perPageNum}" />
                    <input type="hidden" name="searchType" id="searchType" th:value="${pageMaker.cri.searchType}" />
                    <input type="hidden" name="keyword" id="keyword" th:value="${pageMaker.cri.keyword}" />
                    <input type="hidden" name="u_status" id="u_status" th:value="${u_status}"/>
                    <input type="hidden" name="admin_id" id="admin_id"> /* 수정에 필요한 값(아이디) */
                </form>-->
            </div>
        </div>

        <hr class="my-3">

        <div class="card">
            <div class="card-body">
                <table class="table table-bordered">
                    <thead class="text-center">
                    <tr>
                        <th style="width: 3%"><input type="checkbox" id="checkAll"></th>
                        <th style="width: 9%">주문번호</th>
                        <th style="width: 11%">주문자</th>
                        <th style="width: 44%">주문명</th>
                        <th style="width: 11%">결제금액</th>
                        <th style="width: 11%">주문일</th>
                        <th style="width: 11%">관리</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td class="text-center align-middle">
                            <input type="checkbox" name="check">
                        </td>
                        <td class="text-center align-middle">주문번호</td>
                        <td class="text-center align-middle">주문번호</td>
                        <td class="text-center align-middle">주문번호</td>
                        <td class="text-center align-middle">주문번호</td>
                        <td class="text-center align-middle">주문번호</td>
                        <td class="text-center align-middle">
                            <button type="button" class="btn btn-sm btn-warning" name="btnManagerEdit">상세</button>
                            <button type="button" class="btn btn-sm btn-danger" name="btnManagerSuspend">정지</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <!-- pagination
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center">
                    <th:block th:if="${pageMaker.prev}">
                        <li class="page-item"><a class="page-link movepage" th:href="${pageMaker.startPage - 1}">Previous</a></li>
                    </th:block>

                    <th:block th:each="num : ${#numbers.sequence(pageMaker.startPage, pageMaker.endPage)}">
                        <li class="page-item" th:classappend="${pageMaker.cri.page == num ? 'active' : ''}">
                            <a class="page-link movepage" th:href="${num}" th:text="${num}"></a>
                        </li>
                    </th:block>

                    <th:block th:if="${pageMaker.next}">
                        <li class="page-item"><a class="page-link movepage" th:href="${pageMaker.endPage + 1}">Next</a></li>
                    </th:block>
                </ul>
            </nav>-->
        </div>
    </div>
</th:block>

<th:block layout:fragment="script2">
    <script>
        $(document).ready(function() {

            let criteriaForm = $("#criteriaForm");

            $("a.movepage").on("click", function(e) {
                e.preventDefault(); // <a>태그의 링크기능을 제거

                criteriaForm.find("input[name='page']").val($(this).attr("href"));
                criteriaForm.submit();
            });

            // 제목행 체크박스 클릭 시 전체 상품 선택
            let isCheck = true;
            $("#checkAll").on("click", function() {
                $("input[name='check']").prop("checked", this.checked);
                isCheck = this.checked;
            });

            // 체크박스가 모두 선택된 상태에서 한 개라도 체크를 해제할 경우 제목행 체크박스 선택도 해제
            $("input[name='check']").on("click", function() {
                $("#checkAll").prop("checked", this.checked);
                $("input[name='check']").each(function() {
                    if(!$(this).is(":checked")) {
                        $("#checkAll").prop("checked", false);
                    }
                });
            });

            $("#btnDetailSearchOpen").on("click", function() {
                let detailForm = $("#detailSearchForm");
                if (detailForm.is(":visible")) {
                    detailForm.hide();
                } else {
                    detailForm.show();
                }
            });
        })
    </script>
</th:block>
</html>